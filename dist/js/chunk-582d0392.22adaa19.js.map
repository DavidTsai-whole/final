{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Order.vue","webpack:///./src/views/Order.vue?3d30"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","style","active","isLoading","order","data","is_paid","length","user","name","email","tel","address","total","Math","round","href","goIndex","pay","id","setup","route","router","axios","value","api","post","then","res","push","params","console","log","render"],"mappings":"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","file":"js/chunk-582d0392.22adaa19.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"finalOrder\">\r\n    <div class=\"banner bg-cover\" v-if=\"!order.data.is_paid\"></div>\r\n    <div class=\"bannerSuccess bg-cover\" v-else>\r\n    <section class=\"d-flex flex-column align-items-center py-5\">\r\n      <h1 class=\"fw-bold text-white fs-7\">訂單完成</h1>\r\n      <p class=\"fw-bold text-white fs-2\">謝謝您的訂購 !</p>\r\n      <p class=\"fw-bold text-white fs-2\">訂單預計在1 ~ 2個小時內送達。</p>\r\n    </section>\r\n    </div>\r\n    <div class=\"container my-5\">\r\n      <div class=\"row d-flex justify-content-center\">\r\n        <div class=\"col-md-7\">\r\n          <div class=\"information text-center\">\r\n            <h2 class=\"fw-bold\">訂單資訊</h2>\r\n            <hr class=\"bg-dark\" style=\"opacity: 1\" />\r\n            <ul class=\"list-unstyled\">\r\n              <li class=\"d-flex justify-content-between mb-1\">\r\n                <span class=\"fs-5 fw-bold\">顧客姓名</span>\r\n                <span v-if=\"order.data.length !== 0\" class=\"fs-5 fw-bold\">{{order.data.user.name}}</span>\r\n              </li>\r\n              <li class=\"d-flex justify-content-between mb-1\">\r\n                <span class=\"fs-5 fw-bold\">電子信箱</span>\r\n                <span v-if=\"order.data.length !== 0\" class=\"fs-5 fw-bold\">{{order.data.user.email}}</span>\r\n              </li>\r\n              <li class=\"d-flex justify-content-between mb-1\">\r\n                <span class=\"fs-5 fw-bold\">聯絡方式</span>\r\n                <span v-if=\"order.data.length !== 0\" class=\"fs-5 fw-bold\">{{order.data.user.tel}}</span>\r\n              </li>\r\n              <li class=\"d-flex justify-content-between\">\r\n                <span class=\"fs-5 fw-bold\">送達地址</span>\r\n                <span v-if=\"order.data.length !== 0\" class=\"fs-5 fw-bold\">{{order.data.user.address}}</span>\r\n              </li>\r\n            </ul>\r\n            <hr />\r\n            <ul class=\"list-unstyled\">\r\n              <li class=\"d-flex justify-content-between mb-1\">\r\n                <span class=\"fs-5 fw-bold\">付款金額</span>\r\n                <span v-if=\"order.data.total < 599\" class=\"fs-5 fw-bold\">${{ Math.round(order.data.total + 80) }}</span>\r\n                <span v-else class=\"fs-5 fw-bold\">${{ Math.round(order.data.total) }}</span>\r\n              </li>\r\n              <li class=\"d-flex justify-content-between\">\r\n                <span class=\"fs-5 fw-bold\">付款狀態</span>\r\n                <span class=\"fs-5 fw-bold text-danger\" v-if=\"!order.data.is_paid\"\r\n                  >尚未付款</span\r\n                >\r\n                <span class=\"fs-5 fw-bold text-success\" v-else>付款完成</span>\r\n              </li>\r\n            </ul>\r\n            <hr />\r\n            <div class=\"btn d-flex justify-content-between\" v-if=\"!order.data.is_paid\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"btn-custom2 hvr-shutter-out-horizontal\"\r\n                @click.prevent=\"goIndex\"\r\n                ><i class=\"bi bi-reply-fill\"></i>回首頁</a\r\n              >\r\n              <a href=\"#\" class=\"btn-custom hvr-bounce-to-right\" @click.prevent=\"pay(order.data.id)\"\r\n                >確認付款</a\r\n              >\r\n            </div>\r\n            <div class=\"btn text-center\" v-else>\r\n              <a\r\n                href=\"#\"\r\n                class=\"btn-custom2 hvr-shutter-out-horizontal\"\r\n                @click.prevent=\"goIndex\"\r\n                ><i class=\"bi bi-reply-fill\"></i>回首頁</a\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref } from '@vue/reactivity'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { inject, onMounted } from '@vue/runtime-core'\r\nimport { useSweetalert } from '../composition-api'\r\nexport default {\r\n  setup () {\r\n    const order = reactive({\r\n      data: []\r\n    })\r\n    const isLoading = ref(false)\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const axios = inject('axios')\r\n\r\n    const pay = id => {\r\n      isLoading.value = true\r\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n      axios.post(api).then(res => {\r\n        order.data.is_paid = true\r\n        useSweetalert('付款成功!')\r\n        isLoading.value = false\r\n      })\r\n    }\r\n    const goIndex = () => {\r\n      router.push('/')\r\n    }\r\n\r\n    onMounted(() => {\r\n      isLoading.value = true\r\n      const id = route.params.id\r\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      axios.get(api).then(res => {\r\n        isLoading.value = false\r\n        order.data = res.data.order\r\n        console.log(order.data.user.name)\r\n      })\r\n    })\r\n\r\n    return {\r\n      goIndex,\r\n      order,\r\n      pay,\r\n      isLoading\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Order.vue?vue&type=template&id=3895fcc8\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}