{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/views/Favorite.vue","webpack:///./src/views/Favorite.vue?88ec","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined","class","src","alt","href","active","isLoading","favoriteData","data","favoriteProduct","item","key","id","imageUrl","title","price","deleteItem","type","addCart","setup","JSON","parse","localStorage","getItem","products","axios","mitt","getProduct","api","get","then","res","getFevorite","indexOf","followId","splice","setItem","stringify","value","product_id","qty","post","emit","render","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError"],"mappings":"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","file":"js/chunk-6be5d1b2.f8c8af10.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"favorite\">\r\n    <div class=\"banner bg-cover\"></div>\r\n    <div class=\"container mt-5\">\r\n      <div class=\"row d-flex justify-content-center\">\r\n        <div class=\"col-lg-6 col-md-8\">\r\n          <h2 class=\"fw-bold mb-5 text-center\">願望清單</h2>\r\n          <div class=\"wish\" v-if=\"favoriteData.data.length !==0\">\r\n          <div\r\n            class=\"wishCard d-flex bg-orange mb-2\"\r\n            v-for=\"item in favoriteProduct.data\"\r\n            :key=\"item.id\"\r\n          >\r\n            <img :src=\"item.imageUrl\" alt=\"\" />\r\n            <div class=\"title d-flex flex-column justify-content-around ms-3\">\r\n              <h5 class=\"fw-bold\">{{ item.title }}</h5>\r\n              <span class=\"text-danger fw-bold\">NT ${{ item.price }}</span>\r\n            </div>\r\n            <div class=\"icon d-flex flex-column ms-auto justify-content-around me-2\">\r\n              <div class=\"close text-end\" @click=\"deleteItem(item.id)\">\r\n                <i class=\"bi bi-x-lg\"></i>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary text-white\"\r\n                @click=\"addCart(item)\"\r\n              >\r\n                加入購物車\r\n              </button>\r\n            </div>\r\n          </div>\r\n          </div>\r\n          <div class=\"noWish text-center\" v-else>\r\n            <h4 class=\"fw-bold mb-5\">哎呀！您的清單是空的，趕快去加入收藏吧！</h4>\r\n            <img src=\"https://upload.cc/i1/2021/07/13/OGfKXe.jpg\" alt=\"\" />\r\n            <a href=\"#/products\" class=\"btn-custom2 hvr-shutter-out-horizontal my-2\"\r\n              ><i class=\"bi bi-reply-fill\"></i>立刻追蹤</a\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref } from '@vue/reactivity'\r\nimport { inject, onMounted } from '@vue/runtime-core'\r\nimport { useSweetalert, useSweetalert2 } from '../composition-api'\r\nexport default {\r\n  setup () {\r\n    const favoriteData = reactive({\r\n      data: JSON.parse(localStorage.getItem('favorite')) || []\r\n    })\r\n\r\n    const products = reactive({\r\n      data: []\r\n    })\r\n    const favoriteProduct = reactive({\r\n      data: []\r\n    })\r\n    const isLoading = ref(false)\r\n    const axios = inject('axios')\r\n    const mitt = inject('mitt')\r\n\r\n    const getProduct = () => {\r\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/products/all`\r\n      axios.get(api).then(res => {\r\n        products.data = res.data.products\r\n        getFevorite()\r\n      })\r\n    }\r\n    const getFevorite = () => {\r\n      favoriteProduct.data = products.data.filter(item => {\r\n        return favoriteData.data.indexOf(item.id) > -1\r\n      })\r\n    }\r\n    const deleteItem = (id) => {\r\n      const followId = favoriteData.data.indexOf(id)\r\n      favoriteData.data.splice(followId, 1)\r\n      getFevorite()\r\n      useSweetalert('已取消追蹤')\r\n      localStorage.setItem('favorite', JSON.stringify(favoriteData.data))\r\n    }\r\n    const addCart = (item) => {\r\n      const api = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/cart`\r\n      isLoading.value = true\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: 1\r\n      }\r\n      axios.post(api, { data: data }).then(res => {\r\n        useSweetalert2(res)\r\n        mitt.emit('update-cart')\r\n        isLoading.value = false\r\n      })\r\n    }\r\n    onMounted(() => {\r\n      getProduct()\r\n    })\r\n    return {\r\n      isLoading,\r\n      deleteItem,\r\n      addCart,\r\n      favoriteData,\r\n      favoriteProduct\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Favorite.vue?vue&type=template&id=74be4d42\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}